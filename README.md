# Проект  "Приложение для анализа транзакций"

## Описание:
Приложение будет генерировать JSON-данные для веб-страниц, 
формировать Excel-отчеты, а также предоставлять другие сервисы.

## Модуль views.py:
Реализует набор функций и главную функцию, принимающую на вход строку с датой и временем в формате 
YYYY-MM-DD HH:MM:SS и возвращающую JSON-ответ со следующими данными:

1. Приветствие в формате"???", где ??? — «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи» в зависимости от текущего времени.
2. По каждой карте:
- последние 4 цифры карты;
- общая сумма расходов;
- кешбэк (1 рубль на каждые 100 рублей).
3. Топ-5 транзакций по сумме платежа.
4. Курс валют.
5. Стоимость акций из S&P500.
- `main`

## Модуль utils.py:

Содержит набор функций для работы "Главной" страницы.
- `read_transactions_exel`
- `filter_data_range`
- `get_greeting`
- `get_response_greeting`
- `get_card_data`
- `get_top_transactions`
- `get_currency_rates`
- `get_stock_price`

## Модуль reports.py:
Возвращает траты по заданной категории за последние три месяца (от переданной даты).
- `spending_category`

## Модуль services.py:

Содержит функцию, которая возвращает JSON со всеми транзакциями, содержащими в описании мобильные номера.
- `find_transactions_with_phone_numbers`
- `contains_phone_number`

## Установка:
1. Клонируйте репозиторий.
```
git@github.com:MaxKuvshinov/CourseWork1.git
```
2. Установите зависимости (Для установки зависимостей используется Poetry):
```
poetry install
```
3. Активируйте виртуальное окружение:
```
poetry shell
```

## Тестирование:
Для обеспечения качества и надежности фичи будут проведены различные тесты с использованием pytest. 
Юнит-тесты будут проверять отдельные компоненты на корректность их работы.

## Установка зависимостей для тестирования:
Убедитесь, что вы находитесь в активированном виртуальном окружении Poetry. Затем установите зависимости для тестирования:
```
poetry add --group dev pytest
```

## Запуск тестов:
Для запуска тестов выполните следующую команду в корневом каталоге проекта:
Убедитесь, что вы находитесь в активированном виртуальном окружении Poetry. Затем установите зависимости для тестирования:
```
pytest
```
## Структура тестов:
В проекте будет папка tests, содержащая тесты для различных компонентов.

## Покрытие тестами:
```
Name                     Stmts   Miss  Cover
--------------------------------------------
src\__init__.py              0      0   100%
src\api_config.py           26      0   100%
src\reports.py              39      3    92%
src\services.py             22      0   100%
src\utils.py               141     19    87%
src\views.py                29      0   100%
tests\__init__.py            0      0   100%
tests\conftest.py           13      3    77%
tests\test_reports.py       29      0   100%
tests\test_services.py      18      0   100%
tests\test_utils.py         99      0   100%
tests\test_views.py         34      0   100%
--------------------------------------------
TOTAL                      450     25    94%
```

## Выполнил: Кувшинов Максим

## Лицензия:
 Этот проект лицензирован по [лицензии MIT](https://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F_MIT).